{% load humanize %}
{% load lower_filter %}

<style>
  .fixTableHeadFirstData {
    font-size: 12px
    }

    .pt-md-5 {
    padding-top: 0rem!important;
}

</style>
{% comment %} <div style="text-align:center">
<h2 style="text-align:center;color:black;font-size:medium;background-color:#e3f2fd;border-color:black" class="btn btn-warning"><b>{{symbol}}</b></h2>
</div>    {% endcomment %}

{% comment %} <div style="text-align:center">
Date:
{% for record in OITotalValue %}
<h2 style="text-align:center;color:white;font-size:medium;" class="btn btn-success"> <b>{{dateToday}}</b> </h2>
Expiry:
<h2 style="text-align:center;color:black;font-size:medium;" class="btn btn-warning"> <b>{{record.expiry}}</b> </h2>
Symbol:
<h2 style="text-align:center;color:black;font-size:medium;background-color:#e3f2fd;border-color:black" class="btn btn-warning"><b>{{symbol}}</b></h2>
Gap: 
<h2 style="text-align:center;color:black;b-color:pink;font-size:medium;" class="btn alert-warning"><b>({{record.strikegap}})</b>
{% endfor %}
</div>     
{% endcomment %}

<div class="fixTableHeadFirstData" style="text-align:right">
  <h4 style="text-align:center;color:black;font-size:small;background-color: white;" class="badge bg-warning text-wrap">{{ symbol }}  <br> <br> {{liveEqui.0.time}} </h4>

    <h4 style="text-align:center;color:black;font-size:small;background-color: white;margin-left: 30px;" class="badge text-wrap">OPEN <br> <br> {{liveEqui.0.open}} 
    <h4 style="text-align:center;color:black;font-size:small;background-color: lightgreen;" class="badge text-wrap">HIGH <br> <br> {{liveEqui.0.high}} 
    <h4 style="text-align:center;color:black;font-size:small;background-color: lightpink;" class="badge text-wrap">LOW <br> <br> {{liveEqui.0.low}} 
    <h4 style="text-align:center;color:black;font-size:small;background-color: white;" class="badge text-wrap">PRE. CLOSE <br> <br> {{liveEqui.0.prev_day_close}} 
    <h4 style="text-align:center;color:black;font-size:small;background-color: #ffecb5;" class="badge text-wrap">LTP <br> <br> {{liveEqui.0.ltp}} </h4>

      <h4 style="text-align:center;color:black;font-size:small;background-color: white;margin-left: 30px;" class="badge text-wrap">DIFF <br> <br> {{liveEqui.0.section}} </h4>
      <h4 style="text-align:center;color:black;font-size:small;background-color: white;" class="badge text-wrap">STRIKE <br> <br> {{ OITotalValue.0.strikegap }} </h4>
      <h4 style="text-align:center;color:black;font-size:small;background-color: white;" class="badge text-wrap">LOT <br> <br> {{ symbol_lot }} </h4>
      <!-- <h4 style="text-align:center;color:white;font-size:small;background-color: #274E13;" class="badge text-wrap">                                 -->
        {% if "Call" in liveEqui.0.strike %}
        {% if liveEqui.0.section|divisibleby:2%}
        <!-- BUY -->
        <h2 style="text-align:center;color:white;font-size:small" class="badge bg-success text-wrap">BUY </h2>
        {% else %}
        <!-- SELL -->
        <h2 style="text-align:center;color:white;font-size:small" class="badge bg-danger text-wrap">SELL</h2>
        {% endif %}
      {% else %}
      {% if liveEqui.0.section|divisibleby:2%}
      <!-- SELL -->
      <h2 style="text-align:center;color:white;font-size:small" class="badge bg-danger text-wrap">SELL</h2>
      {% else %}
      <!-- BUY -->
      <h2 style="text-align:center;color:white;font-size:small" class="badge bg-success text-wrap">BUY </h2>
      {% endif %}
      {% endif %}</h4>
      {% if "Call" in liveEqui.0.strike %}
      <h2 style="text-align:center;color:white;font-size:small" class="badge bg-success text-wrap">{{ liveEqui.0.strike }} </h2>
      {% else %}
      <h2 style="text-align:center;color:white;font-size:small" class="badge bg-danger text-wrap">{{ liveEqui.0.strike }} </h2>
      {% endif %}

      <!-- <h4 style="text-align:center;color:white;font-size:small;background-color: #274E13;" class="badge text-wrap">RESULT <br> <br> 250000000 </h4> -->
</div>


<!-- <div class="fixTableHeadFirstData">
  <table class="table-striped">
    <thead>
            <th style="background-color:white"><span><h2 style="text-align:center;color:black;font-size:small" class="badge bg-warning text-wrap">{{ symbol }} </h2></span></th>
            <th style="background-color:#F4F1E9" ><span><h4 style="text-align:center;color:white;font-size:small;background-color: #274E13;" class="badge text-wrap">OPEN <br> <br> 250000000</span></th> 
            <th style="background-color:lightgreen;"><span>HIGH</span></th>
            <th style="background-color:lightpink;"><span>LOW</span></th>
            <th><span>PRE. CLOSE</span></th>
            <th style="background-color:lightgoldenrodyellow;"><span>LTP</span></th>
            <th><span>DIFF</span></th>
            <th style="background-color:lightgrey;"><span>STRIKE</span></th>
            <th><span>LOT</span></th>
            <th><span>BUY/SELL</span></th>
            <th><span>RESULT</span></th>


            </tr>

    </thead>

    <tbody>
                      <tr>
                        <td style="width:2%;font-size:small"><b>{{liveEqui.0.time}}</b></td>
                      <td style="width:2%;background-color:white;font-size:medium"><b>{{liveEqui.0.open}}</b></td>
                      <td style="width:2%;background-color:lightgreen;font-size:medium"><b>{{liveEqui.0.high}}</b></td>
                      <td style="width:2%;background-color:lightpink;font-size:medium"><b>{{liveEqui.0.low}}</b></td>
                      <td style="width:2%;background-color:white;font-size:medium"><b>{{liveEqui.0.prev_day_close}}</b></td>
                      <td style="width:2%;background-color:lightgoldenrodyellow;font-size:medium"><b>{{liveEqui.0.ltp}}</b></td>
                      <td style="width:2%;font-size:medium"><b>{{liveEqui.0.section}}</b>         
                      </td>
                      <td style="width:2%;background-color:lightgrey;font-size:medium"><b>{{ OITotalValue.0.strikegap }}<b></td>
                      <td style="width:2%;font-size:medium"><b>{{ symbol_lot }}<b></td>
                      <td style="width:2%;font-size:medium"> 
                                  {% if "Call" in liveEqui.0.strike %}
                                    {% if liveEqui.0.section|divisibleby:2%}

                                    <h2 style="text-align:center;color:white;font-size:small" class="badge bg-success text-wrap">BUY </h2>
                                    {% else %}
                     
                                    <h2 style="text-align:center;color:white;font-size:small" class="badge bg-danger text-wrap">SELL</h2>
                                    {% endif %}
                                  {% else %}
                                  {% if liveEqui.0.section|divisibleby:2%}
                  
                                  <h2 style="text-align:center;color:white;font-size:small" class="badge bg-danger text-wrap">SELL</h2>
                                  {% else %}
                         
                                  <h2 style="text-align:center;color:white;font-size:small" class="badge bg-success text-wrap">BUY </h2>
                                  {% endif %}
                                  {% endif %}

                      </td>
                      <td style="width:2%;font-size:medium">
                        {% if "Call" in liveEqui.0.strike %}
                        <h2 style="text-align:center;color:white;font-size:small" class="badge bg-success text-wrap">{{ liveEqui.0.strike }} </h2>
                        {% else %}
                        <h2 style="text-align:center;color:white;font-size:small" class="badge bg-danger text-wrap">{{ liveEqui.0.strike }} </h2>
                        {% endif %}
                      </td>

                      </tr>
    </tbody>
      
  </table>
</div> -->

<!-- {% for record in OITotalValue %}
<nav aria-label="breadcrumb">

              <ol class="breadcrumb">

               <li class="breadcrumb-item">
                <div class="div-container">
                  <span class="top" style="text-align:center;color: black;"><b>Symbol:</b></span>
                  {% comment %} <span class="bottom">{{ value.open }}</span> {% endcomment %}
                  <h2 style="text-align:center;color:black;b-color:pink;font-size:medium;" class="btn btn-warning"> <b>{{symbol}}</b> </h2>
                </div>
                </li>

                <br>
                <li class="breadcrumb-item">
                <div class="div-container">
                  <span class="top" style="text-align:center;color: black;"><b>Expiry:</b></span>
                  {% comment %} <span class="bottom">{{ value.high }}</span> {% endcomment %}
                  <h2 style="text-align:center;color:black;font-size:medium;" class="btn btn-warning"> <b>{{record.expiry}}</b> </h2>
                </div>
                </li>
                <br>
                <li class="breadcrumb-item">
                <div class="div-container">
                  <span class="top" style="text-align:center;color: black;"><b>Strike gap:</b></span>
                  {% comment %} <span class="bottom">{{ value.low }}</span> {% endcomment %}
                  <h2 style="text-align:center;color:black;font-size:medium;border-color:black" class="btn btn-warning"><b>{{record.strikegap}}</b></h2>
                </div>
                </li>
                <br>
                <li class="breadcrumb-item">
                <div class="div-container">
                  <span class="top" style="text-align:center;color: black;"><b>Lot Size:</b></span>
                  <h2 style="text-align:center;color:black;font-size:medium;border-color:black" class="btn btn-warning"><b>{{symbol_lot}}</b></h2>
                </div>
                </li>
                <br>
                <li class="breadcrumb-item">
                <div class="div-container">
                  <span class="top" style="text-align:center;color: black;"><b>Result: </b></span>
                  {% comment %} <span class="bottom">{{ value.prev_day_close }}</span> {% endcomment %}
                    {% for animal in liveEqui %}
                    {% if "Call" in animal.strike %}
                      {% if animal.section|divisibleby:2%}
                      <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-success text-wrap">BUY </h2>
                      {% else %}
                      <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-danger text-wrap">SELL</h2>
                      {% endif %}
                    {% else %}
                    {% if animal.section|divisibleby:2%}
                    <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-danger text-wrap">SELL</h2>
                    {% else %}
                    <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-success text-wrap">BUY </h2>
                    {% endif %}
                    {% endif %}
                  {% endfor %}
                </div>
              </li>  -->
              <!-- <li class="breadcrumb-item">
                <div class="div-container">
                  <span class="top" style="text-align:center;color: black;"><b></b></span>
                  {% for animal in liveEqui %}
                  {% if "Call" in animal.strike %}
                    {% if animal.section|divisibleby:2%}
                    <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-success text-wrap">BUY </h2>
                    {% else %}
                    <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-danger text-wrap">SELL</h2>
                    {% endif %}
                  {% else %}
                  {% if animal.section|divisibleby:2%}
                  <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-danger text-wrap">SELL</h2>
                  {% else %}
                  <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-success text-wrap">BUY </h2>
                  {% endif %}
                  {% endif %}
                {% endfor %}

                </div>
              </li>

              <li class="breadcrumb-item">
                <div class="div-container">
                {% for animal in liveEqui %}
                  {% if "Call" in animal.strike %}
                    {% if animal.section|divisibleby:2%}
                    <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-success text-wrap">BUY </h2>
                    {% else %}
                    <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-danger text-wrap">SELL</h2>
                    {% endif %}
                  {% else %}
                  {% if animal.section|divisibleby:2%}
                  <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-danger text-wrap">SELL</h2>
                  {% else %}
                  <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-success text-wrap">BUY </h2>
                  {% endif %}
                  {% endif %}
                {% endfor %}

                </div>

                </li> 

              </ol>
</nav>
-->
<!-- {% endfor %}
{% for value in liveEqui %} -->
<!--
<nav aria-label="breadcrumb">

  <ol class="breadcrumb">

    {% comment %} <li class="breadcrumb-item"> {% endcomment %}
    {% comment %} <button type="submit" class="btn btn-warning"><b>{{ key }}</b></button> {% endcomment %}
    {% comment %} <button type="submit" id="button_1" class="btn btn-warning" value="Manoj"><b>{{ key }}</b></button> {% endcomment %}
    {% comment %} <button id="1" name="1" class="btn btn-warning" value="{{ value.symbol }}">{{ value.symbol }}</button> {% endcomment %}
    {% comment %} <span class="badge badge-warning"></span> {% endcomment %}
    
    {% comment %} </li> {% endcomment %}

    <li class="breadcrumb-item">
    <div class="div-container">
      <span class="top" style="text-align:center;color: black;"><b>Open</b></span>
      <span class="bottom" style="color: black;">{{ value.open }}</span>
    </div>
    </li>
    <li class="breadcrumb-item">
    <div class="div-container">
      <span class="top" style="text-align:center;color: black;"><b>High</b></span>
      <span class="bottom" style="color: black;">{{ value.high }} </span>
    </div>
    </li>
    <li class="breadcrumb-item">
    <div class="div-container">
      <span class="top" style="text-align:center;color: black;"><b>Low</b></span>
      <span class="bottom" style="color: black;">{{ value.low }}</span>


    </div>
    </li>
    <li class="breadcrumb-item">
    <div class="div-container">
      <span class="top" style="text-align:center;color: black;" ><b>Pr_close</b></span>
      <span class="bottom" style="color: black;">{{ value.prev_day_close }}</span>
    </div>
    </li>
    <li class="breadcrumb-item">
    <div class="div-container">
      <span class="top" style="text-align:center;color: black;"><b>Ltp</b></span>
      <span class="bottom" style="color: black;">{{ value.ltp }}</span>
    </div>
    </li>

    <li class="breadcrumb-item">
    <div class="div-container">
      <span class="top" style="text-align:center;color: black;"><b>Time</b></span>
      <span class="bottom" style="text-align:center;color: black;"><b class="badge badge-info">{{ value.time }}</b></span>
    </div>
    </li>

    <li class="breadcrumb-item">
      <div class="div-container">
        <span class="top" style="text-align:center;color: black;"><b>Diff</b></span>
        <span class="top" style="text-align:center;color: black;"><b class="badge badge-info">{{ value.section }}</b>
          {% if "Call" in value.strike %}
          <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-success text-wrap">{{ value.strike }} </h2>
          {% else %}
          <h2 style="text-align:center;color:white;font-size:medium" class="badge bg-danger text-wrap">{{ value.strike }} </h2>
          {% endif %}
        </span>
      </div>
    </li>
  </ol>
</nav>

{% endfor %} -->
<!-- <div style="margin-top:5px"></div> -->


<h4 style="text-align:center;margin-top:15px;color:black;font-size:medium;background-color: white;" class="badge text-wrap">LIVE </h4>
<div class="row">

    <div class="col-sm-3">
      <table id="manoj" style="font-size:12px">
          <thead>
              <tr>
              <tr>
                  <td colspan=5 style="width:10%;text-align:center;background-color: dimgrey;color:white"><b>Change % OI</b></td>
              </tr>
              <th><span>TIME</span></th>
              <th><span>CALL</span></th>
              <th colspan="2"><span>STRIKE</span></th>
              <th><span>PUT</span></th>
              </tr>
          </thead>
          <tbody>
                      <tbody>

                      {% for record in LiveChangePercentOI %}

                        <tr>
                        {% comment %} colspan=2 {% endcomment %}
                        <td rowspan=2 style="width:2%"><b>{{ record.time|time}}<b></td>
                          <td style="width:2%;background-color:green;color:white;text-align:center;">{{ record.call1 }}</td>
                          {% comment %} <td style="width:2%;text-align:center"> <i class="fas fa-dot-circle xxx-small;color:blue"></i> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td> {% endcomment %}
                          
                          {% if record.call1 > record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color:#C8EFD5"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          <!-- <i class="fas fa-dot-circle xx-small;color:red" style="font-size:xx-small"></i> -->
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td>
                          {% endif %}

                          <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td>
                          <td style="width:2%;text-align:center;">{{ record.put1 }}</td>
                        </tr>
                        <tr>
                          {% comment %} <td style="width:2%">{{ OIChangeValue.peltt|date:'H:i:s' }}</td> {% endcomment %}
                          <td style="width:2%;text-align:center;">{{ record.put2 }}</td>
                          {% if record.call1 < record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td>
                          {% endif %}

                          <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.putstrike }}</b><span style="color:red">  <b>PE</b></span></td>
                          
                          <td style="width:2%;text-align:center;background-color: darkred;color: white;">{{ record.call2 }}</td>
                        </tr>

                      {% endfor %}
                      </tbody>
          </tbody>
            
      </table>
  </div>

    <div class="col-sm-3">
      <table id="manoj" style="font-size:12px">
          <thead>
              <tr>
              <tr>
                  <td colspan=5 style="width:10%;text-align:center;background-color: dimgrey;color:white"><b>Change in OI</b></td>
              </tr>
              <th><span>TIME</span></th>
              <th><span>CALL</span></th>
              <th colspan="2"><span>STRIKE</span></th>
              <th><span>PUT</span></th>
              </tr>
          </thead>
          <tbody>
                      <tbody>

                      {% for record in OIChangeValue %}

                        <tr>
                        {% comment %} colspan=2 {% endcomment %}
                        <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                          <td style="width:2%;background-color:green;color:white;text-align:center;">{{ record.call1|shrink_num }}</td>
                          {% comment %} <td style="width:2%;text-align:center"> <i class="fas fa-dot-circle xxx-small;color:blue"></i> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td> {% endcomment %}
                          {% if record.call1 > record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td>
                          {% endif %}
                          <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td>
                          <td style="width:2%;text-align:center;">{{ record.put1|shrink_num }}</td>

                        </tr>
                        <tr>
                          {% comment %} <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> {% endcomment %}
                          <td style="width:2%;text-align:center;">{{ record.call2|shrink_num }}</td>
                          {% if record.call1 < record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i> </td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td>
                          {% endif %}

                          <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.putstrike }}</b><span style="color:red">  <b>PE</b></span></td>
                          
                          <td style="width:2%;text-align:center;background-color: darkred;color: white;">{{ record.put2|shrink_num }}</td>
                        </tr>

                      {% endfor %}
                      </tbody>
          </tbody>
            
      </table>
  </div>

  <div class="col-sm-3">
      <table id="manoj" style="font-size:12px">
          <thead>
              <tr>
              <tr>
                  <td colspan=5 style="width:10%;text-align:center;background-color: dimgrey;color:white"><b>Total OI</b></td>
              </tr>
              <th><span>TIME</span></th>
              <th><span>CALL</span></th>
              <th colspan="2"><span>STRIKE</span></th>
              
              <!-- <th style="padding:2.5px;" colspan="2">AMOUNT</th> -->
              <th><span>PUT</span></th>
              </tr>
          </thead>
          <tbody>
                      <tbody>

                      {% for record in OITotalValue %}

                        <tr>
                        {% comment %} colspan=2 {% endcomment %}

                          <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                          <td style="width:2%;background-color:green;color:white;text-align:center;">{{ record.call1|shrink_num }}</td>
                          {% comment %} <td style="width:2%;text-align:center"> <i class="fas fa-dot-circle xxx-small;color:blue"></i> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td> {% endcomment %}
                          {% if record.call1 > record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td>
                          {% endif %}
                          <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td>
                          <td style="width:2%;text-align:center;">{{ record.put1|shrink_num }}</td>

                        </tr>
                        <tr>
                          {% comment %} <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> {% endcomment %}
                          <td style="width:2%;text-align:center;">{{ record.call2|shrink_num }}</td>
                          {% if record.call1 < record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td>
                          {% endif %}

                          <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.putstrike }}</b><span style="color:red">  <b>PE</b></span></td>
                          
                          <td style="width:2%;text-align:center;background-color:darkred;color: white;">{{ record.put2|shrink_num }}</td>
                        </tr>

                      {% endfor %}
                      </tbody>
          </tbody>
            
      </table>
  </div>

  <div class="col-sm-3">
    <table id="manoj" style="font-size:12px">
        <thead>
            <tr>
              <th style="background-color:lightpink;"><span>TIME</span></th>
              <th style="background-color:lightpink;"><span>STRIKE</span></th>
              <th style="background-color:lightpink;"><span>VALUE</span></th>
              <th style="background-color:lightpink;"><span>%</span></th>
              <th style="background-color:lightpink;"><span>T-OI</span></th>
              </tr>
        </thead>
        <tbody>
          <tbody>
            {% for record in OIChangeValue %}
                  <tr>
                  {% comment %} colspan=2 {% endcomment %}
                  <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                    <!-- <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td> -->
                    <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.max_ceoi_strike }}</b><span style="color:green">  <b>CE</b></span> </td>
                    <td style="width:2%;color:black;text-align:center;">{{ record.call_final }}</td>
                    <td style="width:2%;text-align:center;">{{ record.call_percentage  }}%</td>
                    <td style="width:2%;text-align:center;">{{ record.call_ceoi_total  }}</td>
                  </tr>
                  <tr>
                    <!-- <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> -->
                    <!-- <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td> -->
                    <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.put_max_ceoi_strike }}</b><span style="color:red">  <b>PE</b></span></td>
                    <td style="width:2%;text-align:center;">{{ record.put_final  }}</td>
                    <td style="width:2%;text-align:center;color: black;">{{ record.put_percentage  }}%</td>
                    <td style="width:2%;text-align:center;">{{ record.put_ceoi_total }}</td>
                  </tr>
                  <tr style="background-color: white;">
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  <td></td>
                  </tr>
                  {% endfor %}
</tbody>
        </tbody>
          
    </table>
</div>
</div>

<!-- <div style="margin-top:15px"></div> -->

<h4 style="text-align:center;margin-top:15px;color:black;font-size:medium;background-color: white;" class="badge text-wrap">HISTORY</h4>
<div class="row">

<div class="col-sm-3" style="border: solid 0.1em;border-color: #cdcdcd;">

  {% if HistoryOIPercentChg|length == 0 %}

  <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>No data!</strong> No History found for this symbol, Try other symbols.
  </div>

  {% else %}
  <div class="fixTableHeadHistory">
    <table class="table-striped">
      <!-- <thead>
        <tr class="header">
              <tr>
                  <td colspan=5 style="width:10%;text-align:center;background-color: dimgrey;color:white"><b>Change % OI</b></td>
              </tr>

              <th><span>TIME</span></th>
              <th><span>CALL</span></th>
              <th colspan="2"><span>STRIKE</span></th>
              <th><span>PUT</span></th>

              </tr>

      </thead> -->
  
      <tbody>
                      {% for record in HistoryOIPercentChg %}

                        <tr>
                        {% comment %} colspan=2 {% endcomment %}
                        <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                          <td style="width:2%;background-color:green;color:white;text-align:center;">{{ record.call1 }}</td>
                          {% comment %} <td style="width:2%;text-align:center"> <i class="fas fa-dot-circle xxx-small;color:blue"></i> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td> {% endcomment %}

                          <!-- <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td> -->

                          {% if record.call1 > record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color:#C8EFD5"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          <!-- <i class="fas fa-dot-circle xx-small;color:red" style="font-size:xx-small"></i> -->
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td>
                          {% endif %}

                          <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td>
                          <td style="width:2%;text-align:center;">{{ record.put1 }}</td>
                        </tr>
                        <tr>
                          <!-- <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> -->
                          <td style="width:2%;text-align:center;">{{ record.call2 }}</td>

                          <!-- <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td> -->

                          {% if record.call1 < record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i> </td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td>
                          {% endif %}

                          <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.putstrike }}</b><span style="color:red">  <b>PE</b></span></td>
                          
                          <td style="width:2%;text-align:center;background-color:darkred;color: white;">{{ record.put2 }}</td>
                        </tr>

                        <tr style="background-color: white;">
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        </tr>

                      {% endfor %}
      </tbody>
        
    </table>
  </div>
  {% endif %}
  
</div>

<div class="col-sm-3" style="border: solid 0.1em;border-color: #cdcdcd;">

  {% if HistoryOIChg|length == 0 %}

  <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>No data!</strong> No History found for this symbol, Try other symbols.
  </div>

  {% else %}
  <div class="fixTableHeadHistory">
    <table class="table-striped">
      <!-- <thead>
        <tr class="header">
              <tr>
                  <td colspan=5 style="width:10%;text-align:center;background-color: dimgrey;color:white"><b>Change in OI</b></td>
              </tr>

              <th><span>TIME</span></th>
              <th><span>CALL</span></th>
              <th colspan="2"><span>STRIKE</span></th>
              <th><span>PUT</span></th>

              </tr>

      </thead> -->
  
      <tbody>
                      {% for record in HistoryOIChg %}

                        <tr>
                        {% comment %} colspan=2 {% endcomment %}
                        <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                          <td style="width:2%;background-color:green;color:white;text-align:center;">{{ record.call1|shrink_num }}</td>
                          {% comment %} <td style="width:2%;text-align:center"> <i class="fas fa-dot-circle xxx-small;color:blue"></i> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td> {% endcomment %}
                          <!-- <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td> -->
                          {% if record.call1 > record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color:#C8EFD5"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          <!-- <i class="fas fa-dot-circle xx-small;color:red" style="font-size:xx-small"></i> -->
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td>
                          {% endif %}


                          <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td>
                          <td style="width:2%;text-align:center;">{{ record.put1|shrink_num }}</td>
                        </tr>
                        <tr>
                          <!-- <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> -->
                          <td style="width:2%;text-align:center;">{{ record.call2|shrink_num }}</td>

                          <!-- <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td> -->

                          {% if record.call1 < record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i> </td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td>
                          {% endif %}

                          <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.putstrike }}</b><span style="color:red">  <b>PE</b></span></td>
                          
                          <td style="width:2%;text-align:center;background-color:darkred;color: white;">{{ record.put2|shrink_num }}</td>
                        </tr>

                        <tr style="background-color: white;">
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        </tr> 


                      {% endfor %}
      </tbody>
        
    </table>
  </div>
  {% endif %}
  
</div>

<div class="col-sm-3" style="border: solid 0.1em;border-color: #cdcdcd;">
    {% if HistoryOITot|length == 0 %}
      <div class="alert alert-warning alert-dismissible fade show" role="alert">
    <strong>No data!</strong> No History found for this symbol, Try other symbols.
    </div>
    {% else %}

  <div class="fixTableHeadHistory">
    <table class="table-striped">
      <!-- <thead>
        <tr class="header">
              <tr>
                  <td colspan=5 style="width:10%;text-align:center;background-color: dimgrey;color:white"><b>Total OI</b></td>
              </tr>
              <th><span>TIME</span></th>
              <th><span>CALL</span></th>
              <th colspan="2"><span>STRIKE</span></th>
              <th><span>PUT</span></th>
              </tr>
      </thead> -->
  
      <tbody>
                      {% for record in HistoryOITot %}

                        <tr>
                        {% comment %} colspan=2 {% endcomment %}
                        <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                          <td style="width:2%;background-color:green;color:white;text-align:center;">{{ record.call1|shrink_num }}</td>
                          {% comment %} <td style="width:2%;text-align:center"> <i class="fas fa-dot-circle xxx-small;color:blue"></i> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td> {% endcomment %}

                          <!-- <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td> -->

                          {% if record.call1 > record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color:#C8EFD5"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          <!-- <i class="fas fa-dot-circle xx-small;color:red" style="font-size:xx-small"></i> -->
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td>
                          {% endif %}

                          <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td>
                          <td style="width:2%;text-align:center;">{{ record.put1|shrink_num }}</td>
                        </tr>
                        <tr>
                          <!-- <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> -->
                          <td style="width:2%;text-align:center;">{{ record.call2|shrink_num }}</td>

                          <!-- <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td> -->

                          {% if record.call1 < record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i> </td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td>
                          {% endif %}


                          <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.putstrike }}</b><span style="color:red">  <b>PE</b></span></td>
                          
                          <td style="width:2%;text-align:center;background-color:darkred;color: white;">{{ record.put2|shrink_num }}</td>
                        </tr>
                        <tr style="background-color: white;">
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        </tr>

                      {% endfor %}
      </tbody>
        
    </table>
  </div>

  {% endif %}
</div>

<div class="col-sm-3" style="border: solid 0.1em;border-color: #cdcdcd;">
  {% if HistoryOIChg|length == 0 %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>No data!</strong> No History found for this symbol, Try other symbols.
  </div>
  {% else %}

<div class="fixTableHeadFirstData">
  <table class="table-striped">
    <!-- <thead>
      <tr class="header">
            <th style="background-color:lightpink;"><span>TIME</span></th>
            <th style="background-color:lightpink;"><span>STRIKE</span></th>
            <th style="background-color:lightpink;"><span>VALUE</span></th>
            <th style="background-color:lightpink;"><span>%</span></th>
            <th style="background-color:lightpink;"><span>T-OI</span></th>
            </tr>
    </thead> -->

    <tbody>
                {% for record in HistoryOIChg %}
                      <tr>
                      <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                        <!-- <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td> -->
                        
                        <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.max_ceoi_strike }}</b><span style="color:green">  <b>CE</b></span> </td>
                        <td style="width:2%;color:black;text-align:center;">{{ record.call_final }}</td>
                        <td style="width:2%;text-align:center;">{{ record.call_percentage  }}%</td>
                        <td style="width:2%;text-align:center;">{{ record.call_ceoi_total  }}</td>
                      </tr>
                      <tr>
                        <!-- <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> -->
                        <!-- <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td> -->
                        <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.put_max_ceoi_strike }}</b><span style="color:red">  <b>PE</b></span></td>
                        <td style="width:2%;text-align:center;">{{ record.put_final  }}</td>
                        <td style="width:2%;text-align:center;color:black;">{{ record.put_percentage  }}%</td>
                        <td style="width:2%;text-align:center;">{{ record.put_ceoi_total }}</td>
                      </tr>
                      <tr style="background-color: white;">
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      </tr>
                      {% endfor %}
    </tbody>
      
  </table>
</div>

{% endif %}
</div>
</div>

<h4 style="text-align:center;margin-top:22px;color:black;font-size:medium;background-color: white;" class="badge text-wrap">FIRST DATA</h4>

<div class="row border border-success">

<div class="col-sm-3">

  {% if early_percent_change|length == 0 %}

  <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>No data!</strong> No History found for this symbol, Try other symbols.
  </div>

  {% else %}
  <div class="fixTableHeadFirstData">
    <table class="table-striped">
      <thead>
        <tr class="header">
              <tr>
                  <td colspan=5 style="width:10%;text-align:center;background-color: dimgrey;color:white"><b>Change % OI</b></td>
              </tr>

              <th><span>TIME</span></th>
              <th><span>CALL</span></th>
              <th colspan="2"><span>STRIKE</span></th>
              <th><span>PUT</span></th>

              </tr>

      </thead>
  
      <tbody>
                      {% for record in early_percent_change %}
                        <tr>
                        {% comment %} colspan=2 {% endcomment %}
                        <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                          <td style="width:2%;background-color:green;color:white;text-align:center;">{{ record.call1 }}</td>
                          {% comment %} <td style="width:2%;text-align:center"> <i class="fas fa-dot-circle xxx-small;color:blue"></i> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td> {% endcomment %}
                          
                          <!-- <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td> -->

                          {% if record.call1 > record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color:#C8EFD5"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          <!-- <i class="fas fa-dot-circle xx-small;color:red" style="font-size:xx-small"></i> -->
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td>
                          {% endif %}


                          <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td>
                          <td style="width:2%;text-align:center;">{{ record.put1 }}</td>
                        </tr>
                        <tr>
                          <!-- <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> -->
                          <td style="width:2%;text-align:center;">{{ record.call2 }}</td>

                          {% if record.call1 < record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i> </td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td>
                          {% endif %}

                          <!-- <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td> -->


                          <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.putstrike }}</b><span style="color:red">  <b>PE</b></span></td>
                          
                          <td style="width:2%;text-align:center;background-color:darkred;color: white;">{{ record.put2|shrink_num }}</td>
                        </tr>

                        <tr style="background-color: white;">
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        </tr>
                        {% endfor %}
      </tbody>
        
    </table>
  </div>
  {% endif %}
  
</div>

<div class="col-sm-3">

  {% if early_change_oi|length == 0 %}

  <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>No data!</strong> No History found for this symbol, Try other symbols.
  </div>

  {% else %}
  <div class="fixTableHeadFirstData">
    <table class="table-striped">
      <thead>
        <tr class="header">
              <tr>
                  <td colspan=5 style="width:10%;text-align:center;background-color: dimgrey;color:white"><b>Change in OI</b></td>
              </tr>

              <th><span>TIME</span></th>
              <th><span>CALL</span></th>
              <th colspan="2"><span>STRIKE</span></th>
              <th><span>PUT</span></th>

              </tr>

      </thead>
  
      <tbody>
                    {% for record in early_change_oi %}
                        <tr>
                        {% comment %} colspan=2 {% endcomment %}
                        <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                          <td style="width:2%;background-color:green;color:white;text-align:center;">{{ record.call1|shrink_num }}</td>
                          {% comment %} <td style="width:2%;text-align:center"> <i class="fas fa-dot-circle xxx-small;color:blue"></i> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td> {% endcomment %}
                          <!-- <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td> -->
                          
                          {% if record.call1 > record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color:#C8EFD5"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          <!-- <i class="fas fa-dot-circle xx-small;color:red" style="font-size:xx-small"></i> -->
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td>
                          {% endif %}


                          <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td>
                          <td style="width:2%;text-align:center;">{{ record.put1|shrink_num }}</td>
                        </tr>
                        <tr>
                          <!-- <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> -->
                          <td style="width:2%;text-align:center;">{{ record.call2|shrink_num }}</td>

                          {% if record.call1 < record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i> </td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td>
                          {% endif %}

                          <!-- <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td> -->

                          <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.putstrike }}</b><span style="color:red">  <b>PE</b></span></td>
                          
                          <td style="width:2%;text-align:center;background-color:darkred;color: white;">{{ record.put2|shrink_num }}</td>
                        </tr>

                        <tr style="background-color: white;">
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        </tr> 
                        {% endfor %}
      </tbody>
        
    </table>
  </div>
  {% endif %}
  
</div>

<div class="col-sm-3">
    {% if early_total_oi|length == 0 %}
      <div class="alert alert-warning alert-dismissible fade show" role="alert">
    <strong>No data!</strong> No History found for this symbol, Try other symbols.
    </div>
    {% else %}

  <div class="fixTableHeadFirstData">
    <table class="table-striped">
      <thead>
        <tr class="header">
              <tr>
                  <td colspan=5 style="width:10%;text-align:center;background-color: dimgrey;color:white"><b>Total OI</b></td>
              </tr>
              <th><span>TIME</span></th>
              <th><span>CALL</span></th>
              <th colspan="2"><span>STRIKE</span></th>
              <th><span>PUT</span></th>
              </tr>
      </thead>
  
      <tbody>
                  {% for record in early_total_oi %}
                        <tr>
                        {% comment %} colspan=2 {% endcomment %}
                        <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                          <td style="width:2%;background-color:green;color:white;text-align:center;">{{ record.call1|shrink_num }}</td>
                          {% comment %} <td style="width:2%;text-align:center"> <i class="fas fa-dot-circle xxx-small;color:blue"></i> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td> {% endcomment %}

                          {% if record.call1 > record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color:#C8EFD5"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i></td>
                          <!-- <i class="fas fa-dot-circle xx-small;color:red" style="font-size:xx-small"></i> -->
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td>
                          {% endif %}

                          <!-- <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td> -->

                          <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.callstrike }}</b><span style="color:green">  <b>CE</b></span> </td>
                          <td style="width:2%;text-align:center;">{{ record.put1|shrink_num  }}</td>
                        </tr>
                        <tr>
                          <!-- <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> -->
                          <td style="width:2%;text-align:center;">{{ record.call2|shrink_num  }}</td>
                          {% if record.call1 < record.put2 %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"><i class="fa fa-cog" style="color:blue;font-size: smaller;" aria-hidden="true"></i> </td>
                          {% else %}
                          <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td>
                          {% endif %}


                          <!-- <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td> -->


                          <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.putstrike }}</b><span style="color:red">  <b>PE</b></span></td>
                          
                          <td style="width:2%;text-align:center;background-color:darkred;color: white;">{{ record.put2|shrink_num  }}</td>
                        </tr>
                        <tr style="background-color: white;">
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        </tr>
                        {% endfor %}
      </tbody>
        
    </table>
  </div>

  {% endif %}
</div>

<div class="col-sm-3">
  {% if early_total_oi|length == 0 %}
    <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>No data!</strong> No History found for this symbol, Try other symbols.
  </div>
  {% else %}

<div class="fixTableHeadFirstData">
  <table class="table-striped">
    <thead>
      <tr class="header">
            <th style="background-color:lightpink;"><span>TIME</span></th>
            <th style="background-color:lightpink;"><span>STRIKE</span></th>
            <th style="background-color:lightpink;"><span>VALUE</span></th>
            <th style="background-color:lightpink;"><span>%</span></th>
            <th style="background-color:lightpink;"><span>T-OI</span></th>
            </tr>
    </thead>

    <tbody>
                {% for record in early_change_oi %}
                      <tr>
                      <td rowspan=2 style="width:2%"><b>{{ record.time|time }}<b></td>
                        <!-- <td style="width:1%;text-align:center;background-color:#C8EFD5;border-right-color: #C8EFD5"></td> -->
                        
                        <td style="width:4%;text-align:center;background-color:#C8EFD5"> <b>{{ record.max_ceoi_strike }}</b><span style="color:green">  <b>CE</b></span> </td>
                        <td style="width:2%;color:black;text-align:center;">{{ record.call_final }}</td>
                        <td style="width:2%;text-align:center;">{{ record.call_percentage  }}%</td>
                        <td style="width:2%;text-align:center;">{{ record.call_ceoi_total  }}</td>
                      </tr>
                      <tr>
                        <!-- <td style="width:2%">{{ OIChangeValue.peltt|time }}</td> -->
                        <!-- <td style="width:1%;text-align:center;background-color:#F9DDDC;border-right-color: #F9DDDC"></td> -->
                        <td style="width:4%;text-align:center;background-color:#F9DDDC"><b>{{ record.put_max_ceoi_strike }}</b><span style="color:red">  <b>PE</b></span></td>
                        <td style="width:2%;text-align:center;">{{ record.put_final  }}</td>
                        <td style="width:2%;text-align:center;color: black;">{{ record.put_percentage  }}%</td>
                        <td style="width:2%;text-align:center;">{{ record.put_ceoi_total }}</td>
                      </tr>
                      <tr style="background-color: white;">
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      <td></td>
                      </tr>
                      {% endfor %}
    </tbody>
      
  </table>
</div>

{% endif %}
</div>

</div>

</div>


